# ============================================
# Minimarket Camucha - Variables de Entorno para Producción (Coolify)
# ============================================
# Copia este archivo y configura los valores en Coolify > Variables de Entorno
# 
# IMPORTANTE: En Coolify, configura estas variables en la interfaz web,
# NO uses archivo .env en producción

# ============================================
# BASE DE DATOS (OBLIGATORIAS)
# ============================================
# Contraseña para el usuario SA de SQL Server
# Mínimo 8 caracteres, debe incluir mayúsculas, minúsculas, números y caracteres especiales
# Ejemplo: MyStr0ng!P@ssw0rd
DB_PASSWORD=

# Nombre de la base de datos (opcional, por defecto: MinimarketDB)
DB_NAME=MinimarketDB

# Usuario de la base de datos (opcional, por defecto: SA)
DB_USER=SA

# ============================================
# JWT AUTHENTICATION (OBLIGATORIA)
# ============================================
# Clave secreta para JWT (MÍNIMO 32 caracteres, recomendado 64+)
# Genera una clave segura: openssl rand -base64 64
JWT_SECRET_KEY=

# Opcionales (tienen valores por defecto)
JWT_ISSUER=MinimarketAPI
JWT_AUDIENCE=MinimarketWeb

# ============================================
# EMAIL SETTINGS (Opcionales - Ya configurados por defecto)
# ============================================
# El sistema usa SMTP de Gmail por defecto
# Solo configura estas si quieres cambiar los valores por defecto
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=minimarket.camucha@gmail.com
SMTP_PASSWORD=xzloatedigfqgyxi
FROM_EMAIL=minimarket.camucha@gmail.com
FROM_NAME=Minimarket Camucha

# Resend API (opcional - fallback automático si SMTP falla)
RESEND_API_KEY=

# ============================================
# URLs Y CORS (OBLIGATORIAS)
# ============================================
# URL base de la API (mismo dominio que el frontend cuando se usa dominio único)
# Para dominio único: https://minimarket.edvio.app
# Para dominios separados: https://api-minimarket.edvio.app
BASE_URL=https://minimarket.edvio.app

# URL del frontend (mismo dominio que BASE_URL cuando se usa dominio único)
# Para dominio único: https://minimarket.edvio.app
# Para dominios separados: https://minimarket.edvio.app
FRONTEND_URL=https://minimarket.edvio.app

# Orígenes permitidos para CORS (separados por coma)
# Para dominio único: solo el dominio único
# Ejemplo: https://minimarket.edvio.app
CORS_ORIGINS=https://minimarket.edvio.app

# ============================================
# GOOGLE OAUTH (Opcionales - Ya configurados por defecto)
# ============================================
# Solo configura si quieres usar credenciales diferentes
GOOGLE_CLIENT_ID=259590059487-5k8bk2sor6r9oa02pojkhj5nrd8c9h2e.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
# Redirect URI debe apuntar al mismo dominio cuando se usa dominio único
GOOGLE_REDIRECT_URI=https://minimarket.edvio.app/api/auth/google-callback

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. La Connection String se genera automáticamente usando:
#    Server=db,1433;Database=MinimarketDB;User Id=SA;Password=${DB_PASSWORD};...
#
# 2. El servicio "db" es el hostname dentro de Docker Compose
#    No uses "localhost" - usa "db" como hostname
#
# 3. Los datos de SQL Server se persisten en volúmenes Docker:
#    - db_data: Datos de la base de datos
#    - db_log: Logs de SQL Server
#    - db_secrets: Secretos de SQL Server
#
# 4. El servicio "app" espera a que "db" esté saludable antes de iniciar
#    (healthcheck configurado)

