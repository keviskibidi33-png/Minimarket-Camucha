<header class="flex w-full items-center justify-center border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-background-dark/80 backdrop-blur-sm sticky top-0" style="z-index: 50; overflow: visible;">
  <div class="flex items-center whitespace-nowrap px-4 md:px-10 py-3 w-full max-w-7xl" style="overflow: visible;">
    <div class="flex items-center gap-8 flex-shrink-0">
      <a routerLink="/" class="flex items-center gap-3 text-text-light dark:text-text-dark">
        <div class="text-primary text-3xl">
          <span class="material-symbols-outlined">storefront</span>
        </div>
        <h2 class="text-xl font-bold tracking-tight">Minimarket Camucha</h2>
      </a>
      <nav class="hidden lg:flex items-center gap-6">
        <a routerLink="/" class="text-sm font-medium hover:text-primary" routerLinkActive="text-primary" [routerLinkActiveOptions]="{exact: true}">Inicio</a>
        <a routerLink="/tienda/productos" class="text-sm font-medium hover:text-primary" routerLinkActive="text-primary">Productos</a>
        <a routerLink="/tienda/ofertas" class="text-sm font-medium hover:text-primary" routerLinkActive="text-primary">Ofertas</a>
        <a routerLink="/tienda/contacto" class="text-sm font-medium hover:text-primary" routerLinkActive="text-primary">Contacto</a>
      </nav>
    </div>
    <div class="flex flex-1 items-center gap-4 px-4 mx-4 min-w-0" style="position: relative; z-index: 100; overflow: visible;">
      <div class="hidden md:flex flex-1 w-full min-w-0" style="position: relative; overflow: visible; width: 100%;">
        <app-product-autocomplete
          placeholder="Buscar productos..."
          (search)="onSearch($event)"
          (productSelected)="onProductSelected($event)"
          style="width: 100%;">
        </app-product-autocomplete>
      </div>
    </div>
    <div class="flex gap-2 flex-shrink-0">
        <button 
          routerLink="/carrito"
          class="relative flex cursor-pointer items-center justify-center overflow-visible rounded-lg h-10 bg-transparent text-text-light dark:text-text-dark hover:bg-gray-100 dark:hover:bg-gray-800 gap-2 text-sm font-bold min-w-0 px-2.5 transition-colors">
          <span class="material-symbols-outlined">shopping_cart</span>
          @if (cartItemsCount() > 0) {
            <div class="absolute -top-1.5 -right-1.5 flex h-5 w-5 min-w-[20px] items-center justify-center rounded-full bg-secondary text-white text-[10px] font-bold shadow-lg shadow-secondary/50 ring-2 ring-white dark:ring-gray-900 z-10">
              {{ cartItemsCount() }}
            </div>
          }
        </button>
        <button class="flex cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-transparent text-text-light dark:text-text-dark hover:bg-gray-100 dark:hover:bg-gray-800 gap-2 text-sm font-bold min-w-0 px-2.5 transition-colors">
          <span class="material-symbols-outlined">person</span>
        </button>
    </div>
  </div>
</header>

